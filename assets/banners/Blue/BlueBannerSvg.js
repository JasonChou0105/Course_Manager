import React, { useEffect, useRef } from "react";
import { Animated, Easing } from "react-native";
import Svg, { Defs, LinearGradient, Path, Stop } from "react-native-svg";

const AnimatedPath = Animated.createAnimatedComponent(Path);

const BlueBannerSvg = () => {
  const moveAnim1 = useRef(new Animated.ValueXY({ x: 0, y: 0 })).current;
  const moveAnim2 = useRef(new Animated.ValueXY({ x: 0, y: 0 })).current;

  useEffect(() => {
    // Looping animation
    Animated.loop(
      Animated.sequence([
        // Move right
        Animated.timing(moveAnim1, {
          toValue: { x: 200, y: 75 },
          duration: 4400,
          useNativeDriver: true,
          easing: Easing.inOut(Easing.quad),
        }),
        Animated.timing(moveAnim1, {
          toValue: { x: 0, y: 0 },
          duration: 4400,
          useNativeDriver: true,
          easing: Easing.inOut(Easing.quad),
        }),
      ])
    ).start();

    Animated.loop(
      Animated.sequence([
        // Move right
        Animated.timing(moveAnim2, {
          toValue: { x: 75, y: 20 },
          duration: 4400,
          useNativeDriver: true,
          easing: Easing.inOut(Easing.quad),
        }),
        Animated.timing(moveAnim2, {
          toValue: { x: 0, y: 0 },
          duration: 4400,
          useNativeDriver: true,
          easing: Easing.inOut(Easing.quad),
        }),
      ])
    ).start();
  }, []);

  return (
    <Svg
      xmlns="http://www.w3.org/2000/svg"
      style={{
        transition: ".3s",
      }}
      viewBox="150 -70 1800 250"
    >
      <Defs>
        <LinearGradient id="a" x1={0} x2={0} y1={1} y2={0}>
          <Stop offset="0%" stopColor="#2868baff" />
          <Stop offset="100%" stopColor="#3cb3d1ff" />
        </LinearGradient>
      </Defs>
      <AnimatedPath
        fill="url(#a)"
        d="M0,0L24,40C48,80,96,160,144,165C192,170,240,100,288,75C336,50,384,70,432,95C480,120,528,150,576,165C624,180,672,180,720,185C768,190,816,200,864,185C912,170,960,130,1008,110C1056,90,1104,90,1152,110C1200,130,1248,170,1296,170C1344,170,1392,130,1440,95C1488,60,1536,30,1584,25C1632,20,1680,40,1728,65C1776,90,1824,120,1872,130C1920,140,1968,130,2016,135C2064,140,2112,160,2160,175C2208,190,2256,200,2304,170C2352,140,2400,70,2448,60C2496,50,2544,100,2592,140C2640,180,2688,210,2736,230C2784,250,2832,260,2880,225C2928,190,2976,110,3024,85C3072,60,3120,90,3168,85C3216,80,3264,40,3312,55C3360,70,3408,140,3432,175L3456,210L3456,300L3432,300C3408,300,3360,300,3312,300C3264,300,3216,300,3168,300C3120,300,3072,300,3024,300C2976,300,2928,300,2880,300C2832,300,2784,300,2736,300C2688,300,2640,300,2592,300C2544,300,2496,300,2448,300C2400,300,2352,300,2304,300C2256,300,2208,300,2160,300C2112,300,2064,300,2016,300C1968,300,1920,300,1872,300C1824,300,1776,300,1728,300C1680,300,1632,300,1584,300C1536,300,1488,300,1440,300C1392,300,1344,300,1296,300C1248,300,1200,300,1152,300C1104,300,1056,300,1008,300C960,300,912,300,864,300C816,300,768,300,720,300C672,300,624,300,576,300C528,300,480,300,432,300C384,300,336,300,288,300C240,300,192,300,144,300C96,300,48,300,24,300L0,300Z"
        style={{
          transform: [{ translateX: moveAnim1.x }, { translateY: moveAnim1.y }],
          opacity: 0.6,
        }}
        transform={{
          translate: "-50, -50",
        }}
      />
      <Defs>
        <LinearGradient id="b" x1={0} x2={0} y1={1} y2={0}>
          <Stop offset="0%" stopColor="#1369d9ff" />
          <Stop offset="100%" stopColor="#17d0f5ff" />
        </LinearGradient>
      </Defs>
      <AnimatedPath
        fill="url(#b)"
        d="M0,270L34.3,225C68.6,180,137,90,206,50C274.3,10,343,20,411,40C480,60,549,90,617,85C685.7,80,754,40,823,55C891.4,70,960,140,1029,175C1097.1,210,1166,210,1234,175C1302.9,140,1371,70,1440,75C1508.6,80,1577,160,1646,200C1714.3,240,1783,240,1851,200C1920,160,1989,80,2057,75C2125.7,70,2194,140,2263,145C2331.4,150,2400,90,2469,85C2537.1,80,2606,130,2674,165C2742.9,200,2811,220,2880,230C2948.6,240,3017,240,3086,225C3154.3,210,3223,180,3291,150C3360,120,3429,90,3497,100C3565.7,110,3634,160,3703,165C3771.4,170,3840,130,3909,140C3977.1,150,4046,210,4114,210C4182.9,210,4251,150,4320,135C4388.6,120,4457,150,4526,180C4594.3,210,4663,240,4731,230C4800,220,4869,170,4903,145L4937.1,120L4937.1,300L4902.9,300C4868.6,300,4800,300,4731,300C4662.9,300,4594,300,4526,300C4457.1,300,4389,300,4320,300C4251.4,300,4183,300,4114,300C4045.7,300,3977,300,3909,300C3840,300,3771,300,3703,300C3634.3,300,3566,300,3497,300C3428.6,300,3360,300,3291,300C3222.9,300,3154,300,3086,300C3017.1,300,2949,300,2880,300C2811.4,300,2743,300,2674,300C2605.7,300,2537,300,2469,300C2400,300,2331,300,2263,300C2194.3,300,2126,300,2057,300C1988.6,300,1920,300,1851,300C1782.9,300,1714,300,1646,300C1577.1,300,1509,300,1440,300C1371.4,300,1303,300,1234,300C1165.7,300,1097,300,1029,300C960,300,891,300,823,300C754.3,300,686,300,617,300C548.6,300,480,300,411,300C342.9,300,274,300,206,300C137.1,300,69,300,34,300L0,300Z"
        style={{
          transform: [{ translateX: moveAnim2.x }, { translateY: moveAnim2.y }],
          opacity: 0.8,
        }}
      />
    </Svg>
  );
};

export default BlueBannerSvg;

//BlueBannerSvg
